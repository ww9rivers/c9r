# -*- mode:python; -*-
Unit test for c9r.mail.parser

Test 1: Parsing date:

    >>> from c9r.mail.parser import parse_addr, parse_date, Parser
    >>> msg = { 'date': 'Sat, 22 Mar 2014 08:03:51 -0400',
    ...     'From': 'Wei Wang <weiwang@umich.edu>' }
    >>> parse_date(msg)
    1395489831

Test 2: Parsing address:
    >>> parse_addr(msg, 'From')
    'weiwang@umich.edu'

Test 3: Parsing a message:
    >>> mtext = '''Subject: Parser test
    ... Date: Sat, 22 Mar 2014 08:03:50 -0400
    ... From: Wei Wang <weiwang@umich.edu>
    ... To: Wei Wang <weiwang@med.umich.edu>
    ...
    ... This is the content of a test message.'''
    >>> parz = Parser()
    >>> em = parz(mtext)
    >>> em['to']
    'weiwang@med.umich.edu'
    >>> parse_date(em)
    1395489830
